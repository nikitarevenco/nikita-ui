"use strict";(self.webpackChunkdesign_system=self.webpackChunkdesign_system||[]).push([[4034],{"./stories/tag-input.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,__namedExportsOrder:()=>__namedExportsOrder,default:()=>tag_input_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.0.1_@babel+core@7.26.0_react-dom@19.0.0-rc-69d4b800-20241021_react@19.0.0-rc-69d4b800_czvog4bm5hmxkqeypv6dkprgyq/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.0.1_@babel+core@7.26.0_react-dom@19.0.0-rc-69d4b800-20241021_react@19.0.0-rc-69d4b800_czvog4bm5hmxkqeypv6dkprgyq/node_modules/next/dist/compiled/react/index.js"),useListData=__webpack_require__("./node_modules/.pnpm/@react-stately+data@3.11.7_react@19.0.0-rc-69d4b800-20241021/node_modules/@react-stately/data/dist/useListData.mjs"),components_button=__webpack_require__("./src/components/button.tsx"),field=__webpack_require__("./src/components/field.tsx"),components_form=__webpack_require__("./src/components/form.tsx"),Label=__webpack_require__("./node_modules/.pnpm/react-aria-components@1.4.1_react-dom@19.0.0-rc-69d4b800-20241021_react@19.0.0-rc-69d4b800-20_lzfgk4i222ma4rx6xt7oeewigi/node_modules/react-aria-components/dist/Label.mjs"),bundle_mjs=__webpack_require__("./node_modules/.pnpm/tailwind-merge@2.5.4/node_modules/tailwind-merge/dist/bundle-mjs.mjs"),tag_group=__webpack_require__("./src/components/tag-group.tsx");const TagInputContext=react.createContext(null);function TagsInputField({list,name,onTagRemove,onTagAdd,...props}){return(0,jsx_runtime.jsxs)(TagInputContext.Provider,{value:{list,onTagAdd,onTagRemove},children:[(0,jsx_runtime.jsx)(field.A_,{...props}),name&&(0,jsx_runtime.jsx)("input",{name,hidden:!0,readOnly:!0,value:list.items.map((({name:listName})=>listName)).join(",")})]})}function TagsInput({className}){const[inputValue,setInputValue]=react.useState(""),{list,onTagAdd,onTagRemove}=function useTagInputContext(){const context=react.useContext(TagInputContext);if(!context)throw new Error("<TagInputContext.Provider> is required");return context}(),deleteLast=react.useCallback((()=>{if(0===list.items.length)return;const lastKey=list.items.at(-1);lastKey&&(list.remove(lastKey.id),null==onTagRemove||onTagRemove(list.getItem(lastKey.id)))}),[list,onTagRemove]);var _React_useContext;const{id:labelId}=null!==(_React_useContext=react.useContext(Label.I))&&void 0!==_React_useContext?_React_useContext:{};return(0,jsx_runtime.jsx)(tag_group.CR,{"aria-labelledby":labelId,onRemove:function handleRemove(keys){list.remove(...keys),null==onTagRemove||onTagRemove(list.getItem([...keys].at(0)))},className:(0,bundle_mjs.QP)(className,"w-full"),"data-ui":"control",children:(0,jsx_runtime.jsx)("div",{className:(0,bundle_mjs.QP)("flex min-h-9 items-center rounded-md shadow-sm","border has-[input[data-focused=true]]:border-blue-500","has-[input[data-invalid=true][data-focused=true]]:border-blue-500 has-[input[data-invalid=true]]:border-destructive","has-[input[data-focused=true]]:ring-1 has-[input[data-focused=true]]:ring-blue-500"),children:(0,jsx_runtime.jsxs)("div",{className:"inline-flex flex-1 flex-wrap items-center gap-1 px-1.5 py-[5px]",children:[(0,jsx_runtime.jsx)(tag_group.LY,{items:list.items,className:"contents",children:item=>(0,jsx_runtime.jsx)(tag_group.vw,{children:item.name})}),(0,jsx_runtime.jsx)("div",{className:"flex flex-1",children:(0,jsx_runtime.jsx)(field.pd,{value:inputValue,onChange:e=>{setInputValue(e.target.value)},onKeyDown:function handleKeyDown(e){"Enter"!==e.key&&","!==e.key&&";"!==e.key||(e.preventDefault(),function addTag(){const tagNames=inputValue.split(RegExp("[,;]","v"));for(const tagName of tagNames){const formattedName=tagName.trim().replaceAll(RegExp("\\s{2,}","gv")," ").replaceAll(RegExp("[\\t\\n\\r]|\\\\t|\\\\r|\\\\n","gv"),"");if(""!==formattedName&&!list.items.find((({name})=>name.toLocaleLowerCase()===formattedName.toLocaleLowerCase()))){var _list_items_at;const tag={id:((null===(_list_items_at=list.items.at(-1))||void 0===_list_items_at?void 0:_list_items_at.id)||0)+1,name:formattedName};list.append(tag),null==onTagAdd||onTagAdd(tag)}}setInputValue("")}()),"Backspace"===e.key&&""===inputValue&&deleteLast()},className:"border-0 px-0.5 py-0 shadow-none focus:ring-0"})})]})})})}TagsInputField.__docgenInfo={description:"",methods:[],displayName:"TagsInputField",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}},TagsInput.__docgenInfo={description:"",methods:[],displayName:"TagsInput",props:{className:{required:!1,tsType:{name:"string"},description:""}}};const tag_input_stories={title:"Components/Tag input",parameters:{layout:"centered",docs:{...__webpack_require__("./.storybook/docs.ts").m,controls:{exclude:RegExp(".*","gv")}}},tags:["autodocs"]};function Example(){const list=(0,useListData.u)({initialItems:[{id:1,name:"React"}]}),[isInvalid,setIsInvalid]=react.useState(!1);return(0,jsx_runtime.jsxs)(components_form.l,{onSubmit:e=>{if(0===list.items.length)return setIsInvalid(!0),void e.preventDefault();setIsInvalid(!1)},children:[(0,jsx_runtime.jsxs)(TagsInputField,{className:"w-full sm:w-72",name:"framework",list,onTagAdd:()=>{setIsInvalid(!1)},isInvalid,children:[(0,jsx_runtime.jsx)(field.JU,{children:"Frameworks"}),(0,jsx_runtime.jsx)(field.VY,{children:"Add Framework"}),(0,jsx_runtime.jsx)(TagsInput,{}),(0,jsx_runtime.jsx)(field.bg,{children:"Please fill out this field."})]}),(0,jsx_runtime.jsx)(components_button.$n,{type:"submit",children:"Save"})]})}const __namedExportsOrder=["Example"];Example.parameters={...Example.parameters,docs:{...Example.parameters?.docs,source:{originalSource:'function Example() {\n  const list = useListData({\n    initialItems: [{\n      id: 1,\n      name: "React"\n    }]\n  });\n  const [isInvalid, setIsInvalid] = React.useState(false);\n  return <Form onSubmit={e => {\n    if (list.items.length === 0) {\n      setIsInvalid(true);\n      e.preventDefault();\n      return;\n    }\n    setIsInvalid(false);\n  }}>\n      <TagsInputField className="w-full sm:w-72" name="framework" list={list} onTagAdd={() => {\n      setIsInvalid(false);\n    }} isInvalid={isInvalid}>\n        <Label>Frameworks</Label>\n        <Description>Add Framework</Description>\n        <TagsInput />\n        <FieldError>Please fill out this field.</FieldError>\n      </TagsInputField>\n      <Button type="submit">Save</Button>\n    </Form>;\n}',...Example.parameters?.docs?.source}}}},"./src/components/tag-group.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CR:()=>TagGroup,LY:()=>TagList,vw:()=>Tag});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.0.1_@babel+core@7.26.0_react-dom@19.0.0-rc-69d4b800-20241021_react@19.0.0-rc-69d4b800_czvog4bm5hmxkqeypv6dkprgyq/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.0.1_@babel+core@7.26.0_react-dom@19.0.0-rc-69d4b800-20241021_react@19.0.0-rc-69d4b800_czvog4bm5hmxkqeypv6dkprgyq/node_modules/next/dist/compiled/react/index.js"),react_aria_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/react-aria-components@1.4.1_react-dom@19.0.0-rc-69d4b800-20241021_react@19.0.0-rc-69d4b800-20_lzfgk4i222ma4rx6xt7oeewigi/node_modules/react-aria-components/dist/TagGroup.mjs"),react_aria_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/react-aria-components@1.4.1_react-dom@19.0.0-rc-69d4b800-20241021_react@19.0.0-rc-69d4b800-20_lzfgk4i222ma4rx6xt7oeewigi/node_modules/react-aria-components/dist/Button.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/tailwind-merge@2.5.4/node_modules/tailwind-merge/dist/bundle-mjs.mjs"),_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons.tsx"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/utils.ts");const colors={default:["selected:border-accent","selected:bg-accent","selected:text-white","selected:outline-0"],success:["bg-success/10","border-success1","","","selected:bg-success","selected:border-success","selected:","selected:text-white"],warning:["bg-warning/10","border-warning1","","","selected:bg-warning","selected:border-warning","selected:","selected:text-white"],destructive:["bg-destructive/10","border-destructive1","","","selected:bg-destructive","selected:border-destructive","selected:","selected:text-white"]},ColorContext=react__WEBPACK_IMPORTED_MODULE_1__.createContext("default");function TagGroup({children,...props}){var _props_color;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_aria_components__WEBPACK_IMPORTED_MODULE_4__.CR,{...props,className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_5__.QP)("flex flex-col gap-1",props.className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ColorContext.Provider,{value:null!==(_props_color=props.color)&&void 0!==_props_color?_props_color:"default",children})})}function TagList(props){const{className}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_aria_components__WEBPACK_IMPORTED_MODULE_4__.LY,{...props,className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.p7)(className,"flex flex-wrap gap-1")})}function Tag({children,color,...props}){const textValue="string"==typeof children?children:void 0,groupColor=react__WEBPACK_IMPORTED_MODULE_1__.useContext(ColorContext);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_aria_components__WEBPACK_IMPORTED_MODULE_4__.vw,{textValue,...props,className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.p7)(props.className,["flex max-w-fit cursor-default items-center gap-1 rounded-md border px-1 py-0.5 text-xs transition",colors[null!=color?color:groupColor],_utils__WEBPACK_IMPORTED_MODULE_3__.s$,"focus-visible:outline-offset-1","disabled:opacity-50"]),children:({allowsRemoving})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[children,allowsRemoving&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_aria_components__WEBPACK_IMPORTED_MODULE_6__.$,{slot:"remove",className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.p7)("",["flex cursor-default items-center justify-center rounded-full p-0.5 outline-0 transition-[background-color] hover:bg-black/10 pressed:bg-black/20",_utils__WEBPACK_IMPORTED_MODULE_3__.s$]),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icons__WEBPACK_IMPORTED_MODULE_2__.uv,{className:"size-3"})})]})})}TagGroup.__docgenInfo={description:"",methods:[],displayName:"TagGroup",props:{color:{required:!1,tsType:{name:"union",raw:"keyof typeof colors",elements:[{name:"literal",value:"default"},{name:"literal",value:"success"},{name:"literal",value:"warning"},{name:"literal",value:"destructive"}]},description:""}}},TagList.__docgenInfo={description:"",methods:[],displayName:"TagList"},Tag.__docgenInfo={description:"",methods:[],displayName:"Tag",props:{color:{required:!1,tsType:{name:"union",raw:"keyof typeof colors",elements:[{name:"literal",value:"default"},{name:"literal",value:"success"},{name:"literal",value:"warning"},{name:"literal",value:"destructive"}]},description:""}}}}}]);